<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<!-- Copyright 2006 International Business Machines  Corporation and others.  All Rights Reserved.  -->

  
  
  <meta content="text/html; charset=ISO-8859-1" http-equiv="content-type">


  
  
  <title>subversion Windows Setup</title>
</head>


<body>


<h1>Subversion Setup for Windows</h1>


9/28/2006 &nbsp;Andy Heninger<br>

<hr style="width: 100%; height: 2px;"><br>


Here are the steps for configuring&nbsp;access from Windows to the&nbsp;ICU Subversion repository:<br>


<ol>


  <li>Install putty</li>


  <li>Configure putty for accessing&nbsp; v.icu-source.org</li>


  <li>Install the Subversion command line client</li>


  <li>Test Subversion</li>


  <li>[optional] Install a GUI client.<span style="font-style: italic;"></span></li>


</ol>


<h2>Install Putty</h2>


Putty is a Windows ssh program. &nbsp;Subversion will use it&nbsp; for talking ssh protocol
to the&nbsp;server at icu-project.org.<br>


If you don't already have putty installed, get it from <a href="http://the.earth.li/%7Esgtatham/putty/latest/x86/putty-0.58-installer.exe">http://the.earth.li/~sgtatham/putty/latest/x86/putty-0.58-installer.exe</a><br>

<br>

After installation, add the putty install directory, typically c:\program files\putty,&nbsp; to your System Path. &nbsp;<br>


<div style="margin-left: 40px;"><br>


</div>


<span style="font-weight: bold;"><span style="font-style: italic;">Important:
&nbsp;The putty directory really does need to be in your System Path
for the rest of the setup described below to work. &nbsp;The installer
does not do this for you. &nbsp;</span></span>
<h2><br>

</h2>

<h2>Configure Putty to access v.icu-project.org</h2>


Run putty. &nbsp;At a command prompt,<br>


<div style="margin-left: 40px;"><span style="font-family: monospace;">c:&gt; putty</span><br>


<br>


</div>


A configuration dialog should open. &nbsp;Set up as shown below. &nbsp;Only the circled settings need to be changed.<br>


<br>


<img style="width: 456px; height: 435px;" alt="putty configuration dialog #1" src="putty1.png"><br>


<br>


<img style="width: 456px; height: 435px;" alt="putty setup dialog #2" src="putty2.png"><br>


<span style="font-weight: bold;"><br>
Specify your own login name for icu-project.org, not mine! &nbsp;This
is the same login name you use to access the ICU CVS server.<br>
<br>
</span>

<br>


<img style="width: 456px; height: 435px;" alt="Putty configuration dialog #3" src="putty3.png"><br>


<span style="font-weight: bold;"><br>
Specify your private key file for icu-project.org. &nbsp; This is the
same key file that&nbsp; you use to access the ICU CVS server.<br>
<br>
</span>

<br>


<img style="width: 456px; height: 435px;" alt="putty config dialog #4" src="putty4.png"><br>


<span style="font-weight: bold;"><br>
Save the putty configuration. <br>


<br>

Then click the "open" button. &nbsp; If you get a security alert
regarding the server's host key not being cached in the registry,
&nbsp;respond with YES.<br>

<br>


<img style="width: 666px; height: 413px;" alt="putty login screen" src="putty5.png"><br>


<span style="font-weight: bold;"></span>Putty should connect to the server.<br>


<span style="font-style: italic;">If you get a password prompt rather
than a successful login, something is wrong in the putty setup.
&nbsp;It must be fixed before proceeding further.</span><br>


<br>


</span><span style="font-weight: bold;"></span>
<h2>Install the Subversion command line based client</h2>


<ol>


  <li>Download Win32 subversion binaries here:<br>


    <a href="http://subversion.tigris.org/servlets/ProjectDocumentList?folderID=91">http://subversion.tigris.org/servlets/ProjectDocumentList?folderID=91</a><br>

    <span style="font-family: monospace;">svn-1.3.2-setup.exe</span> &nbsp; is the file to get.<br>
    <br>

  </li>


  <li>Install. &nbsp;Subversion installs with a normal Windows installer setup wizard.<br>


After installation, &nbsp;from a command line try <br>


    <span style="font-family: monospace;">&nbsp; &nbsp;svn --help</span><br>

to verify that the install worked. &nbsp;(a pre-existing command
windows may not see a new installation, if it doesn't work try opening
a new command window)<br>

    <br>


  </li>


  <li>Configure subversion for ssh.<br>


The svn configuration file is in the&nbsp;&nbsp;Applications Data directory, and will have a path of this form:<br>


    <span style="font-family: monospace;">C:\Documents and Settings\&lt;<span style="font-style: italic; font-family: monospace;">your Windows login name</span>&gt;\Application Data\Subversion\config</span><br>


    <span style="font-family: monospace;"></span><span style="font-family: monospace;"><br>


Using any normal editor, add this line to the [tunnels] section of the file:<br>


    </span><span style="font-family: monospace; font-weight: bold;">&nbsp; &nbsp;ssh = $SVN_SSH plink.exe<br>


    </span></li>


</ol>


<span style="font-family: monospace; font-weight: bold;"><br>


</span><br>


Note: with this setup, when subversion asks for "v.icu-project.org",
the request will go to plink.exe, which will look for a saved putty
configuration of&nbsp; that name ("v.icu-project.org"), and access whatever server machine
that configuration indicates. &nbsp;There is no requirement that the
saved putty configuration name match the host name that will be
accessed, but it keeps things less confusing if they are the same.<br>


<br>


Another note: it's supposed to be possible to specify the full path the
plink.exe in the configuration file, and avoid having to add the putty
directory to the system's PATH environment variable, but it didn't work
for me.<br>


<span style="font-family: monospace; font-weight: bold;"><span style="font-weight: bold;"></span></span>
<h2><br>

</h2>

<h2>Test Subversion Server Access</h2>


Make a test directory and try a checkout. &nbsp;<br>


<br>


<span style="font-family: monospace;">C:\&gt;mkdir&nbsp;</span><span style="font-family: monospace;">svntest<br>


</span><span style="font-family: monospace;">C:\&gt;cd svntest</span><br style="font-family: monospace;">


<span style="font-family: monospace;">C:\svntest&gt;svn co svn+ssh://v.icu-project.org/repos/icu/icu4j/trunk icu4j</span><br style="font-family: monospace;">


<span style="font-family: monospace;">A&nbsp;&nbsp;&nbsp; icu4j\eclipseTestArgs.txt</span><br style="font-family: monospace;">


<span style="font-family: monospace;">A&nbsp;&nbsp;&nbsp; icu4j\readme.html</span><br style="font-family: monospace;">


<span style="font-family: monospace;">A&nbsp;&nbsp;&nbsp; icu4j\license.html</span><br style="font-family: monospace;">


<span style="font-family: monospace;">A&nbsp;&nbsp;&nbsp; icu4j\src</span><br style="font-family: monospace;">


<span style="font-family: monospace;">A&nbsp;&nbsp;&nbsp; icu4j\src\com</span><br style="font-family: monospace;">


<span style="font-family: monospace;">A&nbsp;&nbsp;&nbsp; icu4j\src\com\ibm</span><br style="font-family: monospace;">


<span style="font-family: monospace;">A&nbsp;&nbsp;&nbsp; icu4j\src\com\ibm\icu</span><br style="font-family: monospace;">


<span style="font-family: monospace;">A&nbsp;&nbsp;&nbsp; icu4j\src\com\ibm\icu\impl</span><br style="font-family: monospace;">


<span style="font-family: monospace;">A&nbsp;&nbsp;&nbsp; icu4j\src\com\ibm\icu\impl\LRUMap.java</span><br style="font-family: monospace;">


<span style="font-family: monospace;"></span>[snipped the rest]<br>


<br>


From the&nbsp; command,<br>


<div style="margin-left: 40px;"><span style="font-family: monospace;">svn co svn+<span style="font-weight: bold;">ssh</span>://<span style="font-weight: bold;">v.icu-project.org</span>/repos/icu/icu4j/trunk icu4j</span><br>


</div>


<span style="font-weight: bold; font-style: italic;">ssh</span><span style="font-style: italic;"> </span>is vectored off to plink.exe by line that was added to the config file.<br>


<span style="font-weight: bold; font-style: italic;">v.icu-project.org</span> must be the name of a saved session in Putty. &nbsp;<br>

<br>

<h2>GUI Client</h2>

A quick search shows that there are many free SVN GUI
clients out there. &nbsp;Most appear to be immature at best.
&nbsp;TortoiseSVN looks pretty good, although it's Windows only.<br>

<a href="http://www.tortoisecvs.org/"><br>

http://www.tortoisecvs.org/</a><br>
<br>


</body>
</html>
