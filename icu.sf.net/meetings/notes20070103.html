<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>

<!-- Copyright (c) 2006 IBM and others -->
  <meta content="text/html; charset=UTF-8" http-equiv="content-type">
  <title>ICU Core Minutes 01/03/2007</title>


</head>


<body>

<h1>ICU Core Meeting Notes</h1>

Jan 3, 2007<br>

<br>

Attending:<br>

<div style="margin-left: 40px;">Mark Davis<br>

Deborah Goldsmith<br>

Andy Heninger<br>

Eric Mader&nbsp;<br>

Michael Ow <br>

Markus Scherer<br>

Yoshito Umaoka<br>

Ram Viswanadha<br>

Vladimir Weinstein<br>

</div>

<h2>Action Items</h2>

<br>

<table style="text-align: left; width: 759px; height: 172px;" border="1" cellpadding="2" cellspacing="2">

  <tbody>

    <tr>

      <td align="undefined" valign="undefined">Number</td>

      <td align="undefined" valign="undefined">Due</td>

      <td align="undefined" valign="undefined">Who</td>

      <td align="undefined" valign="undefined">Description</td>

    </tr>

    <tr>

      <td style="color: rgb(255, 0, 0);" align="undefined" valign="undefined">31</td>

      <td style="color: rgb(255, 0, 0);" align="undefined" valign="undefined">11/22/06</td>

      <td style="color: rgb(255, 0, 0);" align="undefined" valign="undefined">Mark,<br>

Vladimir</td>

      <td style="color: rgb(255, 0, 0);" align="undefined" valign="undefined">Look
at UnicodeSet and CollectionUtilities,&nbsp; make a proposal</td>

    </tr>

    <tr>

      <td style="color: rgb(255, 0, 0);" align="undefined" valign="undefined">6</td>

      <td style="color: rgb(255, 0, 0);" align="undefined" valign="undefined">12/1/06</td>

      <td style="color: rgb(255, 0, 0);" align="undefined" valign="undefined">Markus</td>

      <td style="color: rgb(255, 0, 0);" align="undefined" valign="undefined">futz
around with different options for cnv binary file and report back to
the group with recommendation.</td>

    </tr>

    <tr>

      <td>35</td>

      <td>12/6/06</td>

      <td>Andy</td>

      <td>Update the SVN guide with instructions for SVN branch
naming conventions</td>

    </tr>

    <tr>

      <td>36</td>

      <td>01/10/07</td>

      <td>&nbsp;Ram</td>

      <td>Look at all versions of &nbsp;ICU that are affected
by IDNA buffer overflow bug and scope out the work</td>

    </tr>

    <tr>

      <td>37</td>

      <td>01/10/07</td>

      <td>Steven</td>

      <td>Work on the SVN file corruption problem and report back
to the team</td>

    </tr>

    <tr>

      <td>38</td>

      <td>01/22/07</td>

      <td>George</td>

      <td>Test the CNV data structure changes with ICU4J and make
sure the file is backwards co</td>

    </tr>

  </tbody>
</table>

<br>

<h2>Buffer Overflow Bug in IDNA</h2>

The team looked at the IDNA buffer overflow bug and asked Ram to work
on resolving the bug.<br>

Decision:<br>

<ul>

  <li>IDNA algorithm should limit the domain label length to
63&nbsp; on output</li>

  <li>IDNA algorithm should conform to the spec and not allow the
domain label with length larger than 63. In the, we may add options for
allowing domain labels larger than 63.</li>

</ul>

<h2>Conversion Performance and Data File</h2>

Markus summarized the conversion data file changes and performance
improvements.<br>

<br>

Key Points (copied &nbsp;from email from Markus):<br>

<ul>

  <li>While the main innovation is avoiding the UTF-16 pivot when
converting from UTF-8 to something else, some modifications to the .cnv
fromUnicode data structures (which are backward compatible) were
needed. These changes also allowed some fast paths and significant
performance improvements for conversion from UTF-16 to some charsets
(via ucnv_fromUnicode()). There is no API change.&nbsp;</li>

  <li>56-100% speed up for single byte code pages</li>

  <li>Porting to ICU4J not necessary since the data format is
backwards compatible</li>

  <li>For UTF-16-&gt;MBCS, I (Markus)&nbsp; took
advantage of the modified .cnv data structure, which accounts for about
two thirds of the improvement, and an ASCII fast path, which accounts
for the rest.</li>

  <li>For UTF-16-&gt;SBCS, I (Markus) only used an ASCII fast
path for these measurements. I (Markus) only saw lower performance when
trying to use the modified data structure for the code points where it
is available. Note that the ASCII fast path makes conversion slower
when the proportion of ASCII is low. (The BMP-to-SBCS implementation
already had a very tight loop.)</li>

  <li>The modified .cnv data files are about 6.5% larger than
before, over all of ICU's default .cnv files.</li>

</ul>

</body>
</html>
