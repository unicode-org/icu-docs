<html><head><TITLE></TITLE></head>
<body>
<H2><A HREF ="#DOC.DOCU" > <IMG BORDER=0 SRC=down.gif></A>    </H2><BLOCKQUOTE>

Number Format C API  Provides functions for
formatting and parsing a number
</BLOCKQUOTE>
<A NAME="DOC.DOCU">
<BLOCKQUOTE>

Number Format C API  Provides functions for
formatting and parsing a number.  Also provides methods for
determining which locales have number formats, and what their names
are.
<P>
UNumberFormat helps you to format and parse numbers for any locale.
Your code can be completely independent of the locale conventions
for decimal points, thousands-separators, or even the particular
decimal digits used, or whether the number format is even decimal.
There are different number format styles like decimal, currency,
percent and spellout. 
<P>
To format a number for the current Locale, use one of the static
factory methods:
<pre>
.   UChar myString[20];
.   UFieldPosition pos=0;
.   double myNumber = 7.0;
.   UErrorCode success = U_ZERO_ERROR;
.   UNumberFormat* nf = unum_open(UNUM_DEFAULT, NULL, &success)
.   unum_formatDouble(nf, myNumber, myString, u_strlen(myString), &pos, &status);
.   printf(" Example 1: %s\n", austrdup(myString) ); //austrdup( a function used to convert UChar* to char*)
</pre>
If you are formatting multiple numbers, it is more efficient to get
the format and use it multiple times so that the system doesn't
have to fetch the information about the local language and country
conventions multiple times.
<pre>
.    UChar* myString;
.    t_int32 i, resultlength, reslenneeded;
.    UErrorCode success = U_ZERO_ERROR;
.    UFieldPosition pos=0;
.    t_int32 a[] = { 123, 3333, -1234567 };
.    const t_int32 a_len = sizeof(a) / sizeof(a[0]);
.    UNumberFormat* nf = unum_open(UNUM_DEFAULT, NULL, &success)
.    for (i = 0; i < a_len; i++) {
.    resultlength=0;
.    reslenneeded=unum_format(nf, a[i], NULL, resultlength, &pos, &status);
.    if(status==U_BUFFER_OVERFLOW_ERROR){
.        status=U_ZERO_ERROR;
.        resultlength=resultlengthneeded+1;
.        result=(UChar*)malloc(sizeof(UChar) * resultlength);
.        unum_format(nf, a[i], result, resultlength, &pos, &status);
.    }
.    printf(" Example 2: %s\n", austrdup(result) );
.    free(result);
.    }
</pre>
To format a number for a different Locale, specify it in the
call to unum_open().
<pre>
.    UNumberFormat* nf = unum_open(UNUM_DEFAULT, "fr_FR", &success)
</pre>
You can use a NumberFormat API unum_parse() to parse.
<pre>
.   UErrorCode success;
.   t_int32 pos=0;
.   unum_parse(nf, result, u_strlen(result), &pos, &success);
</pre>
Use UCAL_DECIMAL to get the normal number format for that country.
There are other static options available.  Use UCAL_CURRENCY
to get the currency number format for that country.  Use UCAL_PERCENT
to get a format for displaying percentages. With this format, a
fraction from 0.53 is displayed as 53%.
<P>
You can also control the display of numbers with such function as
unum_getAttribues() and unum_setAtributes().  where in you can set the
miminum fraction digits, grouping used etc.

</BLOCKQUOTE>
<DL><DT><B>See Also:</B><DD>UNumberFormatAttributes for more details
<P>
You can also use forms of the parse and format methods with
<!1><A HREF="ParsePosition.html">ParsePosition</A> and <!1><A HREF="UFieldPosition.html">UFieldPosition</A> to allow you to:
<ul type=round>
<li>(a) progressively parse through pieces of a string.
<li>(b) align the decimal point and other areas.
</ul>
<p>
It is also possible to change or set the symbols used for a particular
locale like the currency symbol, the grouping seperator , monetary seperator 
etc by making use of functions <!1><A HREF="unum_setSymbols.html">unum_setSymbols</A>() and <!1><A HREF="unum_getSymbols.html">unum_getSymbols</A>().<br></DL><P><I><A HREF="aindex.html"> alphabetic index</A></I>  <I><A HREF="HIER.html"> hierarchy of classes</A></I><P><hr>
<A HREF="http://www.zib.de/Visual/software/doc++/index.html"><IMG BORDER=0 ALIGN=RIGHT SRC=logo.gif></A>
<P Align=Center><I>this page has been generated automatically by doc++</I>
<P Align=Center><I>(c)opyright by <A HREF="http://www.zib.de/zoeckler/"> Malte  Z&ouml;ckler</A>, <A HREF="mailto:wunderling@zib.de"> Roland Wunderling </A><br>contact: <A HREF="mailto:doc++@zib.de"> doc++@zib.de</a></I>
</BODY>
