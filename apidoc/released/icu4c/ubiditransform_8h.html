<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ICU 66.1: ubiditransform.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ICU 66.1
   &#160;<span id="projectnumber">66.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_8e7b8192f8ff7e2a9b28a95633402eef.html">icu</a></li><li class="navelem"><a class="el" href="dir_62bbd7d8d356aabb1ca2bb9704fa0335.html">icu4c</a></li><li class="navelem"><a class="el" href="dir_84abeeaa1c31cd817591a3a8c0864234.html">source</a></li><li class="navelem"><a class="el" href="dir_ff9529815edbb9be180a9d3389ef352b.html">common</a></li><li class="navelem"><a class="el" href="dir_c0b05f822e611119fac4b5ce31fb631c.html">unicode</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">ubiditransform.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Bidi Transformations.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="utypes_8h_source.html">unicode/utypes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ubidi_8h_source.html">unicode/ubidi.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="uchar_8h_source.html">unicode/uchar.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="localpointer_8h_source.html">unicode/localpointer.h</a>&quot;</code><br />
</div>
<p><a href="ubiditransform_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespaceicu"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceicu.html">icu</a></td></tr>
<tr class="memdesc:namespaceicu"><td class="mdescLeft">&#160;</td><td class="mdescRight">File <a class="el" href="coll_8h.html" title="C++ API: Collation Service. ">coll.h</a>. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a3dec2965749dcf801e9f6aec852ef9ae"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="ubiditransform_8h.html#a3dec2965749dcf801e9f6aec852ef9ae">UBiDiTransform</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubiditransform_8h.html#a3dec2965749dcf801e9f6aec852ef9ae">UBiDiTransform</a></td></tr>
<tr class="memdesc:a3dec2965749dcf801e9f6aec852ef9ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Forward declaration of the <code>UBiDiTransform</code> structure that stores information used by the layout transformation engine.  <a href="#a3dec2965749dcf801e9f6aec852ef9ae">More...</a><br /></td></tr>
<tr class="separator:a3dec2965749dcf801e9f6aec852ef9ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a6f638f184d3f60e874b15f587fe6bbab"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubiditransform_8h.html#a6f638f184d3f60e874b15f587fe6bbab">UBiDiOrder</a> { <a class="el" href="ubiditransform_8h.html#a6f638f184d3f60e874b15f587fe6bbaba77a9eda64f63fabb0e15c5750d8f5362">UBIDI_LOGICAL</a> = 0, 
<a class="el" href="ubiditransform_8h.html#a6f638f184d3f60e874b15f587fe6bbaba9d3eef20b888d608876010b59b28b627">UBIDI_VISUAL</a>
 }<tr class="memdesc:a6f638f184d3f60e874b15f587fe6bbab"><td class="mdescLeft">&#160;</td><td class="mdescRight"><code>UBiDiOrder</code> indicates the order of text.  <a href="ubiditransform_8h.html#a6f638f184d3f60e874b15f587fe6bbab">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a6f638f184d3f60e874b15f587fe6bbab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa10286fa01a861e22070ba2e47f03140"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubiditransform_8h.html#aa10286fa01a861e22070ba2e47f03140">UBiDiMirroring</a> { <a class="el" href="ubiditransform_8h.html#aa10286fa01a861e22070ba2e47f03140ae69f35f936883ae2bc592a79abac03f8">UBIDI_MIRRORING_OFF</a> = 0, 
<a class="el" href="ubiditransform_8h.html#aa10286fa01a861e22070ba2e47f03140a29d12daa732e047e5d2ecf49ab5a4b15">UBIDI_MIRRORING_ON</a>
 }<tr class="memdesc:aa10286fa01a861e22070ba2e47f03140"><td class="mdescLeft">&#160;</td><td class="mdescRight"><code>UBiDiMirroring</code> indicates whether or not characters with the "mirrored" property in RTL runs should be replaced with their mirror-image counterparts.  <a href="ubiditransform_8h.html#aa10286fa01a861e22070ba2e47f03140">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:aa10286fa01a861e22070ba2e47f03140"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a455d3c94a03ae1adf0523d2a328ceabb"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubiditransform_8h.html#a455d3c94a03ae1adf0523d2a328ceabb">ubiditransform_transform</a> (<a class="el" href="ubiditransform_8h.html#a3dec2965749dcf801e9f6aec852ef9ae">UBiDiTransform</a> *pBiDiTransform, const <a class="el" href="umachine_8h.html#a6bb9fad572d65b305324ef288165e2ac">UChar</a> *src, int32_t srcLength, <a class="el" href="umachine_8h.html#a6bb9fad572d65b305324ef288165e2ac">UChar</a> *dest, int32_t destSize, <a class="el" href="ubidi_8h.html#ab2460a19f323ab9787a79a95db91a606">UBiDiLevel</a> inParaLevel, <a class="el" href="ubiditransform_8h.html#a6f638f184d3f60e874b15f587fe6bbab">UBiDiOrder</a> inOrder, <a class="el" href="ubidi_8h.html#ab2460a19f323ab9787a79a95db91a606">UBiDiLevel</a> outParaLevel, <a class="el" href="ubiditransform_8h.html#a6f638f184d3f60e874b15f587fe6bbab">UBiDiOrder</a> outOrder, <a class="el" href="ubiditransform_8h.html#aa10286fa01a861e22070ba2e47f03140">UBiDiMirroring</a> doMirroring, uint32_t shapingOptions, <a class="el" href="utypes_8h.html#a3343c1c8a8377277046774691c98d78c">UErrorCode</a> *pErrorCode)</td></tr>
<tr class="memdesc:a455d3c94a03ae1adf0523d2a328ceabb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs transformation of text from the bidi layout defined by the input ordering scheme to the bidi layout defined by the output ordering scheme, and applies character mirroring and Arabic shaping operations.  <a href="#a455d3c94a03ae1adf0523d2a328ceabb">More...</a><br /></td></tr>
<tr class="separator:a455d3c94a03ae1adf0523d2a328ceabb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c71478d028fb6d01f84c9b0d9470bfb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ubiditransform_8h.html#a3dec2965749dcf801e9f6aec852ef9ae">UBiDiTransform</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubiditransform_8h.html#a3c71478d028fb6d01f84c9b0d9470bfb">ubiditransform_open</a> (<a class="el" href="utypes_8h.html#a3343c1c8a8377277046774691c98d78c">UErrorCode</a> *pErrorCode)</td></tr>
<tr class="memdesc:a3c71478d028fb6d01f84c9b0d9470bfb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates a <code>UBiDiTransform</code> object.  <a href="#a3c71478d028fb6d01f84c9b0d9470bfb">More...</a><br /></td></tr>
<tr class="separator:a3c71478d028fb6d01f84c9b0d9470bfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fd902c6ad890b8ffb2b85f3c3a1a6bb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubiditransform_8h.html#a8fd902c6ad890b8ffb2b85f3c3a1a6bb">ubiditransform_close</a> (<a class="el" href="ubiditransform_8h.html#a3dec2965749dcf801e9f6aec852ef9ae">UBiDiTransform</a> *pBidiTransform)</td></tr>
<tr class="memdesc:a8fd902c6ad890b8ffb2b85f3c3a1a6bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deallocates the given <code>UBiDiTransform</code> object.  <a href="#a8fd902c6ad890b8ffb2b85f3c3a1a6bb">More...</a><br /></td></tr>
<tr class="separator:a8fd902c6ad890b8ffb2b85f3c3a1a6bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Bidi Transformations. </p>

<p class="definition">Definition in file <a class="el" href="ubiditransform_8h_source.html">ubiditransform.h</a>.</p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="a3dec2965749dcf801e9f6aec852ef9ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3dec2965749dcf801e9f6aec852ef9ae">&#9670;&nbsp;</a></span>UBiDiTransform</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="ubiditransform_8h.html#a3dec2965749dcf801e9f6aec852ef9ae">UBiDiTransform</a> <a class="el" href="ubiditransform_8h.html#a3dec2965749dcf801e9f6aec852ef9ae">UBiDiTransform</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Forward declaration of the <code>UBiDiTransform</code> structure that stores information used by the layout transformation engine. </p>
<dl class="stable"><dt><b><a class="el" href="stable.html#_stable000812">Stable:</a></b></dt><dd>ICU 58 </dd></dl>

<p class="definition">Definition at line <a class="el" href="ubiditransform_8h_source.html#l00112">112</a> of file <a class="el" href="ubiditransform_8h_source.html">ubiditransform.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="aa10286fa01a861e22070ba2e47f03140"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa10286fa01a861e22070ba2e47f03140">&#9670;&nbsp;</a></span>UBiDiMirroring</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="ubiditransform_8h.html#aa10286fa01a861e22070ba2e47f03140">UBiDiMirroring</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>UBiDiMirroring</code> indicates whether or not characters with the "mirrored" property in RTL runs should be replaced with their mirror-image counterparts. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="ubidi_8h.html#a0b1370dda1e3ad8ef9c94fd28320153d" title="option bit for ubidi_writeReordered(): replace characters with the &quot;mirrored&quot; property in RTL runs by...">UBIDI_DO_MIRRORING</a> </dd>
<dd>
<a class="el" href="ubidi_8h.html#a25dd2aba9db100133217b9fe76de01de" title="Specify which of the reordering options should be applied during Bidi transformations. ">ubidi_setReorderingOptions</a> </dd>
<dd>
<a class="el" href="ubidi_8h.html#a26790ff71c59f223ded4047da5626725" title="Take a UBiDi object containing the reordering information for a piece of text (one or more paragraphs...">ubidi_writeReordered</a> </dd>
<dd>
<a class="el" href="ubidi_8h.html#a2b0dd2bc3a984509545449d76cb1ed2e" title="Reverse a Right-To-Left run of Unicode text. ">ubidi_writeReverse</a> </dd></dl>
<dl class="stable"><dt><b><a class="el" href="stable.html#_stable000811">Stable:</a></b></dt><dd>ICU 58 </dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="aa10286fa01a861e22070ba2e47f03140ae69f35f936883ae2bc592a79abac03f8"></a>UBIDI_MIRRORING_OFF&#160;</td><td class="fielddoc"><p>0: Constant indicating that character mirroring should not be performed. </p>
<p>This is the default. </p><dl class="stable"><dt><b><a class="el" href="stable.html#_stable000818">Stable:</a></b></dt><dd>ICU 58 </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="aa10286fa01a861e22070ba2e47f03140a29d12daa732e047e5d2ecf49ab5a4b15"></a>UBIDI_MIRRORING_ON&#160;</td><td class="fielddoc"><p>1: Constant indicating that character mirroring should be performed. </p>
<p>This corresponds to calling <code>ubidi_writeReordered</code> or <code>ubidi_writeReverse</code> with the <code>UBIDI_DO_MIRRORING</code> option bit set. </p><dl class="stable"><dt><b><a class="el" href="stable.html#_stable000819">Stable:</a></b></dt><dd>ICU 58 </dd></dl>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="ubiditransform_8h_source.html#l00091">91</a> of file <a class="el" href="ubiditransform_8h_source.html">ubiditransform.h</a>.</p>

</div>
</div>
<a id="a6f638f184d3f60e874b15f587fe6bbab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f638f184d3f60e874b15f587fe6bbab">&#9670;&nbsp;</a></span>UBiDiOrder</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="ubiditransform_8h.html#a6f638f184d3f60e874b15f587fe6bbab">UBiDiOrder</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>UBiDiOrder</code> indicates the order of text. </p>
<p>This bidi transformation engine supports all possible combinations (4 in total) of input and output text order:</p>
<ul>
<li>&lt;logical input, visual output&gt;: unless the output direction is RTL, this corresponds to a normal operation of the Bidi algorithm as described in the Unicode Technical Report and implemented by <code>UBiDi</code> when the reordering mode is set to <code>UBIDI_REORDER_DEFAULT</code>. Visual RTL mode is not supported by <code>UBiDi</code> and is accomplished through reversing a visual LTR string,</li>
<li>&lt;visual input, logical output&gt;: unless the input direction is RTL, this corresponds to an "inverse bidi algorithm" in <code>UBiDi</code> with the reordering mode set to <code>UBIDI_REORDER_INVERSE_LIKE_DIRECT</code>. Visual RTL mode is not not supported by <code>UBiDi</code> and is accomplished through reversing a visual LTR string,</li>
<li>&lt;logical input, logical output&gt;: if the input and output base directions mismatch, this corresponds to the <code>UBiDi</code> implementation with the reordering mode set to <code>UBIDI_REORDER_RUNS_ONLY</code>; and if the input and output base directions are identical, the transformation engine will only handle character mirroring and Arabic shaping operations without reordering,</li>
<li>&lt;visual input, visual output&gt;: this reordering mode is not supported by the <code>UBiDi</code> engine; it implies character mirroring, Arabic shaping, and - if the input/output base directions mismatch - string reverse operations. <dl class="section see"><dt>See also</dt><dd><a class="el" href="ubidi_8h.html#a836b2eaf83ca712cf28e69cd4ba934f4" title="Modify the operation of the Bidi algorithm such that it approximates an &quot;inverse Bidi&quot; algorithm...">ubidi_setInverse</a> </dd>
<dd>
<a class="el" href="ubidi_8h.html#afe123acc1196c4d7363f968ca6af6faa" title="Modify the operation of the Bidi algorithm such that it implements some variant to the basic Bidi alg...">ubidi_setReorderingMode</a> </dd>
<dd>
<a class="el" href="ubidi_8h.html#a88693e5a8ad4be974dc90ec6b8db56dfac366446a9080bf062aca0080e9effc5b" title="Regular Logical to Visual Bidi algorithm according to Unicode. ">UBIDI_REORDER_DEFAULT</a> </dd>
<dd>
<a class="el" href="ubidi_8h.html#a88693e5a8ad4be974dc90ec6b8db56dfa8ca4fe9b9d87e67c37c8a80bed3147aa" title="Visual to Logical algorithm equivalent to the regular Logical to Visual algorithm. ">UBIDI_REORDER_INVERSE_LIKE_DIRECT</a> </dd>
<dd>
<a class="el" href="ubidi_8h.html#a88693e5a8ad4be974dc90ec6b8db56dfa103b373c5933dd91cbfb2382b77bde8d" title="Reorder runs only to transform a Logical LTR string to the Logical RTL string with the same display...">UBIDI_REORDER_RUNS_ONLY</a> </dd></dl>
<dl class="stable"><dt><b><a class="el" href="stable.html#_stable000810">Stable:</a></b></dt><dd>ICU 58 </dd></dl>
</li>
</ul>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a6f638f184d3f60e874b15f587fe6bbaba77a9eda64f63fabb0e15c5750d8f5362"></a>UBIDI_LOGICAL&#160;</td><td class="fielddoc"><p>0: Constant indicating a logical order. </p>
<p>This is the default for input text. </p><dl class="stable"><dt><b><a class="el" href="stable.html#_stable000816">Stable:</a></b></dt><dd>ICU 58 </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="a6f638f184d3f60e874b15f587fe6bbaba9d3eef20b888d608876010b59b28b627"></a>UBIDI_VISUAL&#160;</td><td class="fielddoc"><p>1: Constant indicating a visual order. </p>
<p>This is a default for output text. </p><dl class="stable"><dt><b><a class="el" href="stable.html#_stable000817">Stable:</a></b></dt><dd>ICU 58 </dd></dl>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="ubiditransform_8h_source.html#l00068">68</a> of file <a class="el" href="ubiditransform_8h_source.html">ubiditransform.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a8fd902c6ad890b8ffb2b85f3c3a1a6bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fd902c6ad890b8ffb2b85f3c3a1a6bb">&#9670;&nbsp;</a></span>ubiditransform_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubiditransform_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ubiditransform_8h.html#a3dec2965749dcf801e9f6aec852ef9ae">UBiDiTransform</a> *&#160;</td>
          <td class="paramname"><em>pBidiTransform</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deallocates the given <code>UBiDiTransform</code> object. </p>
<dl class="stable"><dt><b><a class="el" href="stable.html#_stable000815">Stable:</a></b></dt><dd>ICU 58 </dd></dl>

</div>
</div>
<a id="a3c71478d028fb6d01f84c9b0d9470bfb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c71478d028fb6d01f84c9b0d9470bfb">&#9670;&nbsp;</a></span>ubiditransform_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ubiditransform_8h.html#a3dec2965749dcf801e9f6aec852ef9ae">UBiDiTransform</a>* ubiditransform_open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="utypes_8h.html#a3343c1c8a8377277046774691c98d78c">UErrorCode</a> *&#160;</td>
          <td class="paramname"><em>pErrorCode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocates a <code>UBiDiTransform</code> object. </p>
<p>This object can be reused, e.g. with different ordering schemes, mirroring or shaping options.</p>
<p><b>Note:</b>The object can only be reused in the same thread. All other threads should allocate a new <code>UBiDiTransform</code> object before using it.</p>
<p>Example of usage:</p>
<pre>
<div class="fragment"><div class="line">  <a class="code" href="utypes_8h.html#a3343c1c8a8377277046774691c98d78c">UErrorCode</a> errorCode = <a class="code" href="utypes_8h.html#a3343c1c8a8377277046774691c98d78caa43dbfc9499c5f911d04e1a0ca3bf6f9">U_ZERO_ERROR</a>;</div><div class="line">  <span class="comment">// Open a new UBiDiTransform.</span></div><div class="line">  <a class="code" href="ubiditransform_8h.html#a3dec2965749dcf801e9f6aec852ef9ae">UBiDiTransform</a>* transform = <a class="code" href="ubiditransform_8h.html#a3c71478d028fb6d01f84c9b0d9470bfb">ubiditransform_open</a>(&amp;errorCode);</div><div class="line">  <span class="comment">// Run a transformation.</span></div><div class="line">  <a class="code" href="ubiditransform_8h.html#a455d3c94a03ae1adf0523d2a328ceabb">ubiditransform_transform</a>(transform,</div><div class="line">           text1, -1, text2, -1,</div><div class="line">           <a class="code" href="ubidi_8h.html#a68a6b5fdcbf80aaa51b5bd39f7f31102a73e659e3118b58f822cc1384e7fcd8ec">UBIDI_RTL</a>, <a class="code" href="ubiditransform_8h.html#a6f638f184d3f60e874b15f587fe6bbaba77a9eda64f63fabb0e15c5750d8f5362">UBIDI_LOGICAL</a>,</div><div class="line">           <a class="code" href="ubidi_8h.html#a68a6b5fdcbf80aaa51b5bd39f7f31102a3378628e1b7851cd6d00e7f74d29f6c3">UBIDI_LTR</a>, <a class="code" href="ubiditransform_8h.html#a6f638f184d3f60e874b15f587fe6bbaba9d3eef20b888d608876010b59b28b627">UBIDI_VISUAL</a>,</div><div class="line">           <a class="code" href="ubiditransform_8h.html#aa10286fa01a861e22070ba2e47f03140a29d12daa732e047e5d2ecf49ab5a4b15">UBIDI_MIRRORING_ON</a>,</div><div class="line">           <a class="code" href="ushape_8h.html#ad2a55f99c617158f846c246bc2d08e0e">U_SHAPE_DIGITS_EN2AN</a>,</div><div class="line">           &amp;errorCode);</div><div class="line">  <span class="comment">// Do something with the output text and invoke another transformation using</span></div><div class="line">  <span class="comment">//   that text as input.</span></div><div class="line">  <a class="code" href="ubiditransform_8h.html#a455d3c94a03ae1adf0523d2a328ceabb">ubiditransform_transform</a>(transform,</div><div class="line">           text2, -1, text3, -1,</div><div class="line">           <a class="code" href="ubidi_8h.html#a68a6b5fdcbf80aaa51b5bd39f7f31102a3378628e1b7851cd6d00e7f74d29f6c3">UBIDI_LTR</a>, <a class="code" href="ubiditransform_8h.html#a6f638f184d3f60e874b15f587fe6bbaba9d3eef20b888d608876010b59b28b627">UBIDI_VISUAL</a>,</div><div class="line">           <a class="code" href="ubidi_8h.html#a68a6b5fdcbf80aaa51b5bd39f7f31102a73e659e3118b58f822cc1384e7fcd8ec">UBIDI_RTL</a>, <a class="code" href="ubiditransform_8h.html#a6f638f184d3f60e874b15f587fe6bbaba9d3eef20b888d608876010b59b28b627">UBIDI_VISUAL</a>,</div><div class="line">           <a class="code" href="ubiditransform_8h.html#aa10286fa01a861e22070ba2e47f03140a29d12daa732e047e5d2ecf49ab5a4b15">UBIDI_MIRRORING_ON</a>,</div><div class="line">           0, &amp;errorCode);</div><div class="line">*</div></div><!-- fragment -->
  </pre> <p>The <code>UBiDiTransform</code> object must be deallocated by calling <code><a class="el" href="ubiditransform_8h.html#a8fd902c6ad890b8ffb2b85f3c3a1a6bb" title="Deallocates the given UBiDiTransform object. ">ubiditransform_close()</a></code>.</p>
<dl class="section return"><dt>Returns</dt><dd>An empty <code>UBiDiTransform</code> object. </dd></dl>
<dl class="stable"><dt><b><a class="el" href="stable.html#_stable000814">Stable:</a></b></dt><dd>ICU 58 </dd></dl>

</div>
</div>
<a id="a455d3c94a03ae1adf0523d2a328ceabb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a455d3c94a03ae1adf0523d2a328ceabb">&#9670;&nbsp;</a></span>ubiditransform_transform()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t ubiditransform_transform </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ubiditransform_8h.html#a3dec2965749dcf801e9f6aec852ef9ae">UBiDiTransform</a> *&#160;</td>
          <td class="paramname"><em>pBiDiTransform</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="umachine_8h.html#a6bb9fad572d65b305324ef288165e2ac">UChar</a> *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>srcLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="umachine_8h.html#a6bb9fad572d65b305324ef288165e2ac">UChar</a> *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>destSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ubidi_8h.html#ab2460a19f323ab9787a79a95db91a606">UBiDiLevel</a>&#160;</td>
          <td class="paramname"><em>inParaLevel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ubiditransform_8h.html#a6f638f184d3f60e874b15f587fe6bbab">UBiDiOrder</a>&#160;</td>
          <td class="paramname"><em>inOrder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ubidi_8h.html#ab2460a19f323ab9787a79a95db91a606">UBiDiLevel</a>&#160;</td>
          <td class="paramname"><em>outParaLevel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ubiditransform_8h.html#a6f638f184d3f60e874b15f587fe6bbab">UBiDiOrder</a>&#160;</td>
          <td class="paramname"><em>outOrder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ubiditransform_8h.html#aa10286fa01a861e22070ba2e47f03140">UBiDiMirroring</a>&#160;</td>
          <td class="paramname"><em>doMirroring</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>shapingOptions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="utypes_8h.html#a3343c1c8a8377277046774691c98d78c">UErrorCode</a> *&#160;</td>
          <td class="paramname"><em>pErrorCode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs transformation of text from the bidi layout defined by the input ordering scheme to the bidi layout defined by the output ordering scheme, and applies character mirroring and Arabic shaping operations. </p>
<p>In terms of <code>UBiDi</code>, such a transformation implies: </p><ul>
<li>
calling <code>ubidi_setReorderingMode</code> as needed (when the reordering mode is other than normal), </li>
<li>
calling <code>ubidi_setInverse</code> as needed (when text should be transformed from a visual to a logical form), </li>
<li>
resolving embedding levels of each character in the input text by calling <code>ubidi_setPara</code>, </li>
<li>
reordering the characters based on the computed embedding levels, also performing character mirroring as needed, and streaming the result to the output, by calling <code>ubidi_writeReordered</code>, </li>
<li>
performing Arabic digit and letter shaping on the output text by calling <code>u_shapeArabic</code>. </li>
</ul>
<p>An "ordering scheme" encompasses the base direction and the order of text, and these characteristics must be defined by the caller for both input and output explicitly .</p>
<p>There are 36 possible combinations of &lt;input, output&gt; ordering schemes, which are partially supported by <code>UBiDi</code> already. Examples of the currently supported combinations: </p><ul>
<li>
&lt;Logical LTR, Visual LTR&gt;: this is equivalent to calling <code>ubidi_setPara</code> with <code>paraLevel == UBIDI_LTR</code>, </li>
<li>
&lt;Logical RTL, Visual LTR&gt;: this is equivalent to calling <code>ubidi_setPara</code> with <code>paraLevel == UBIDI_RTL</code>, </li>
<li>
&lt;Logical Default ("Auto") LTR, Visual LTR&gt;: this is equivalent to calling <code>ubidi_setPara</code> with <code>paraLevel == UBIDI_DEFAULT_LTR</code>, </li>
<li>
&lt;Logical Default ("Auto") RTL, Visual LTR&gt;: this is equivalent to calling <code>ubidi_setPara</code> with <code>paraLevel == UBIDI_DEFAULT_RTL</code>, </li>
<li>
&lt;Visual LTR, Logical LTR&gt;: this is equivalent to calling <code>ubidi_setInverse(UBiDi*, TRUE)</code> and then <code>ubidi_setPara</code> with <code>paraLevel == UBIDI_LTR</code>, </li>
<li>
&lt;Visual LTR, Logical RTL&gt;: this is equivalent to calling <code>ubidi_setInverse(UBiDi*, TRUE)</code> and then <code>ubidi_setPara</code> with <code>paraLevel == UBIDI_RTL</code>. </li>
</ul>
<p>All combinations that involve the Visual RTL scheme are unsupported by <code>UBiDi</code>, for instance: </p><ul>
<li>
&lt;Logical LTR, Visual RTL&gt;, </li>
<li>
&lt;Visual RTL, Logical RTL&gt;. </li>
</ul>
<p>Example of usage of the transformation engine:<br />
 </p><pre>
<div class="fragment"><div class="line">  <a class="code" href="umachine_8h.html#a6bb9fad572d65b305324ef288165e2ac">UChar</a> text1[] = {<span class="charliteral">&#39;a&#39;</span>, <span class="charliteral">&#39;b&#39;</span>, <span class="charliteral">&#39;c&#39;</span>, 0x0625, <span class="charliteral">&#39;1&#39;</span>, 0};</div><div class="line">  <a class="code" href="umachine_8h.html#a6bb9fad572d65b305324ef288165e2ac">UChar</a> text2[] = {<span class="charliteral">&#39;a&#39;</span>, <span class="charliteral">&#39;b&#39;</span>, <span class="charliteral">&#39;c&#39;</span>, 0x0625, <span class="charliteral">&#39;1&#39;</span>, 0};</div><div class="line">  <a class="code" href="utypes_8h.html#a3343c1c8a8377277046774691c98d78c">UErrorCode</a> errorCode = <a class="code" href="utypes_8h.html#a3343c1c8a8377277046774691c98d78caa43dbfc9499c5f911d04e1a0ca3bf6f9">U_ZERO_ERROR</a>;</div><div class="line">  <span class="comment">// Run a transformation.</span></div><div class="line">  <a class="code" href="ubiditransform_8h.html#a455d3c94a03ae1adf0523d2a328ceabb">ubiditransform_transform</a>(pBidiTransform,</div><div class="line">           text1, -1, text2, -1,</div><div class="line">           <a class="code" href="ubidi_8h.html#a68a6b5fdcbf80aaa51b5bd39f7f31102a3378628e1b7851cd6d00e7f74d29f6c3">UBIDI_LTR</a>, <a class="code" href="ubiditransform_8h.html#a6f638f184d3f60e874b15f587fe6bbaba9d3eef20b888d608876010b59b28b627">UBIDI_VISUAL</a>,</div><div class="line">           <a class="code" href="ubidi_8h.html#a68a6b5fdcbf80aaa51b5bd39f7f31102a73e659e3118b58f822cc1384e7fcd8ec">UBIDI_RTL</a>, <a class="code" href="ubiditransform_8h.html#a6f638f184d3f60e874b15f587fe6bbaba77a9eda64f63fabb0e15c5750d8f5362">UBIDI_LOGICAL</a>,</div><div class="line">           <a class="code" href="ubiditransform_8h.html#aa10286fa01a861e22070ba2e47f03140ae69f35f936883ae2bc592a79abac03f8">UBIDI_MIRRORING_OFF</a>,</div><div class="line">           <a class="code" href="ushape_8h.html#ab64949486e9c70a4452903d6938d8198">U_SHAPE_DIGITS_AN2EN</a> | <a class="code" href="ushape_8h.html#ad702c7e0c649d5cb2ac70d3e0a820cb1">U_SHAPE_DIGIT_TYPE_AN_EXTENDED</a>,</div><div class="line">           &amp;errorCode);</div><div class="line">  <span class="comment">// Do something with text2.</span></div><div class="line">   text2[4] = <span class="charliteral">&#39;2&#39;</span>;</div><div class="line">  <span class="comment">// Run a reverse transformation.</span></div><div class="line">  <a class="code" href="ubiditransform_8h.html#a455d3c94a03ae1adf0523d2a328ceabb">ubiditransform_transform</a>(pBidiTransform,</div><div class="line">           text2, -1, text1, -1,</div><div class="line">           <a class="code" href="ubidi_8h.html#a68a6b5fdcbf80aaa51b5bd39f7f31102a73e659e3118b58f822cc1384e7fcd8ec">UBIDI_RTL</a>, <a class="code" href="ubiditransform_8h.html#a6f638f184d3f60e874b15f587fe6bbaba77a9eda64f63fabb0e15c5750d8f5362">UBIDI_LOGICAL</a>,</div><div class="line">           <a class="code" href="ubidi_8h.html#a68a6b5fdcbf80aaa51b5bd39f7f31102a3378628e1b7851cd6d00e7f74d29f6c3">UBIDI_LTR</a>, <a class="code" href="ubiditransform_8h.html#a6f638f184d3f60e874b15f587fe6bbaba9d3eef20b888d608876010b59b28b627">UBIDI_VISUAL</a>,</div><div class="line">           <a class="code" href="ubiditransform_8h.html#aa10286fa01a861e22070ba2e47f03140ae69f35f936883ae2bc592a79abac03f8">UBIDI_MIRRORING_OFF</a>,</div><div class="line">           <a class="code" href="ushape_8h.html#ad2a55f99c617158f846c246bc2d08e0e">U_SHAPE_DIGITS_EN2AN</a> | <a class="code" href="ushape_8h.html#ad702c7e0c649d5cb2ac70d3e0a820cb1">U_SHAPE_DIGIT_TYPE_AN_EXTENDED</a>,</div><div class="line">           &amp;errorCode);</div><div class="line">*</div></div><!-- fragment -->
  </pre> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pBiDiTransform</td><td>A pointer to a <code>UBiDiTransform</code> object allocated with <code><a class="el" href="ubiditransform_8h.html#a3c71478d028fb6d01f84c9b0d9470bfb" title="Allocates a UBiDiTransform object. ">ubiditransform_open()</a></code> or <code>NULL</code>.</td></tr>
  </table>
  </dd>
</dl>
<p>This object serves for one-time setup to amortize initialization overheads. Use of this object is not thread-safe. All other threads should allocate a new <code>UBiDiTransform</code> object by calling <code><a class="el" href="ubiditransform_8h.html#a3c71478d028fb6d01f84c9b0d9470bfb" title="Allocates a UBiDiTransform object. ">ubiditransform_open()</a></code> before using it. Alternatively, a caller can set this parameter to <code>NULL</code>, in which case the object will be allocated by the engine on the fly.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src</td><td>A pointer to the text that the Bidi layout transformations will be performed on. </td></tr>
  </table>
  </dd>
</dl>
<p><b>Note:</b> the text must be (at least) <code>srcLength</code> long.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">srcLength</td><td>The length of the text, in number of UChars. If <code>length == -1</code> then the text must be zero-terminated. </td></tr>
    <tr><td class="paramname">dest</td><td>A pointer to where the processed text is to be copied. </td></tr>
    <tr><td class="paramname">destSize</td><td>The size of the <code>dest</code> buffer, in number of UChars. If the <code>U_SHAPE_LETTERS_UNSHAPE</code> option is set, then the destination length could be as large as <code>srcLength * 2</code>. Otherwise, the destination length will not exceed <code>srcLength</code>. If the caller reserves the last position for zero-termination, it should be excluded from <code>destSize</code>. </td></tr>
  </table>
  </dd>
</dl>
<p><code>destSize == -1</code> is allowed and makes sense when <code>dest</code> was holds some meaningful value, e.g. that of <code>src</code>. In this case <code>dest</code> must be zero-terminated.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inParaLevel</td><td>A base embedding level of the input as defined in <code>ubidi_setPara</code> documentation for the <code>paraLevel</code> parameter. </td></tr>
    <tr><td class="paramname">inOrder</td><td>An order of the input, which can be one of the <code>UBiDiOrder</code> values. </td></tr>
    <tr><td class="paramname">outParaLevel</td><td>A base embedding level of the output as defined in <code>ubidi_setPara</code> documentation for the <code>paraLevel</code> parameter. </td></tr>
    <tr><td class="paramname">outOrder</td><td>An order of the output, which can be one of the <code>UBiDiOrder</code> values. </td></tr>
    <tr><td class="paramname">doMirroring</td><td>Indicates whether or not to perform character mirroring, and can accept one of the <code>UBiDiMirroring</code> values. </td></tr>
    <tr><td class="paramname">shapingOptions</td><td>Arabic digit and letter shaping options defined in the <a class="el" href="ushape_8h.html" title="C API: Arabic shaping. ">ushape.h</a> documentation. </td></tr>
  </table>
  </dd>
</dl>
<p><b>Note:</b> Direction indicator options are computed by the transformation engine based on the effective ordering schemes, so user-defined direction indicators will be ignored.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pErrorCode</td><td>A pointer to an error code value.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The destination length, i.e. the number of UChars written to <code>dest</code>. If the transformation fails, the return value will be 0 (and the error code will be written to <code>pErrorCode</code>).</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="ubidi_8h.html#ab2460a19f323ab9787a79a95db91a606" title="UBiDiLevel is the type of the level values in this Bidi implementation. ">UBiDiLevel</a> </dd>
<dd>
<a class="el" href="ubiditransform_8h.html#a6f638f184d3f60e874b15f587fe6bbab" title="UBiDiOrder indicates the order of text. ">UBiDiOrder</a> </dd>
<dd>
<a class="el" href="ubiditransform_8h.html#aa10286fa01a861e22070ba2e47f03140" title="UBiDiMirroring indicates whether or not characters with the &quot;mirrored&quot; property in RTL runs should be...">UBiDiMirroring</a> </dd>
<dd>
<a class="el" href="ubidi_8h.html#abdfe9e113a19dd8521d3b7ac8220fe11" title="Perform the Unicode Bidi algorithm. ">ubidi_setPara</a> </dd>
<dd>
<a class="el" href="ushape_8h.html#a1f89291c5a24a50b8f6dcad5eb4668f7" title="Shape Arabic text on a character basis. ">u_shapeArabic</a> </dd></dl>
<dl class="stable"><dt><b><a class="el" href="stable.html#_stable000813">Stable:</a></b></dt><dd>ICU 58 </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
