<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<!-- Copyright 2006 International Business Machines  Corporation and others.  All Rights Reserved.  -->


  
  
  
  <meta content="text/html; charset=ISO-8859-1" http-equiv="content-type">



  
  
  
  <title>subversion Windows Setup</title>
</head>


<body>



<h1>Subversion Setup for Windows</h1>
10/25/2006 &nbsp;Andy Heninger<br>


<hr style="width: 100%; height: 2px;"><br>



Here are the steps for configuring&nbsp;access from Windows to the&nbsp;ICU Subversion repository:<br>



<ol>



  <li>Install putty</li>



  <li>Configure putty for accessing&nbsp; source.icu-source.org</li>



  <li>Install the Subversion command line client</li>



  <li>Test Subversion</li>



  <li>[optional] Install a GUI client.</li>

</ol>

These instructions assume that you already have functioning ICU CVS
access, which means that you have an account on the server, and that
ssh keys have been set up for use with the CVS client.
<ol>



</ol>



<h2>Install Putty</h2>



Putty is a Windows ssh program. &nbsp;Subversion will use it&nbsp; for talking ssh protocol
to the&nbsp;server at icu-project.org.<br>



If you don't already have putty installed, download and install the latest full package (
<a href="http://the.earth.li/%7Esgtatham/putty/latest/x86/putty-0.58-installer.exe">putty-0.58-installer.exe</a> or later) from&nbsp; <a href="http://www.chiark.greenend.org.uk/%7Esgtatham/putty/download.html">http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html</a><br>


<br>


After installation, add the putty install directory, typically c:\program files\putty,&nbsp; to your System Path. &nbsp;<br>



<div style="margin-left: 40px;"><br>



</div>



<span style="font-weight: bold;"><span style="font-style: italic;">Important:
&nbsp;The putty directory really does need to be in your System Path
for the rest of the setup described below to work. &nbsp;The installer
does not do this for you. &nbsp;</span></span>
<h2><br>


</h2>


<h2>Configure Putty to access source.icu-project.org</h2>



Run putty. &nbsp;At a command prompt,<br>



<div style="margin-left: 40px;"><span style="font-family: monospace;">c:&gt; putty</span><br>



<br>



</div>



A configuration dialog should open. &nbsp;Set up as shown below. &nbsp;Only the circled settings need to be changed.<br>



<br>



<img style="width: 456px; height: 435px;" alt="putty configuration dialog #1" src="putty1.png"><br>



<br>



<img style="width: 456px; height: 435px;" alt="putty setup dialog #2" src="putty2.png"><br>



<span style="font-weight: bold;"><br>

Specify your own login name for icu-project.org, not mine! &nbsp;This
is the same login name you use to access the ICU CVS server.<br>

<br>

</span>

<br>



<img style="width: 456px; height: 435px;" alt="Putty configuration dialog #3" src="putty3.png"><br>



<span style="font-weight: bold;"><br>

Specify your private key file for icu-project.org. &nbsp; This is the
same key file that&nbsp; you use to access the ICU CVS server.<br>

<br>

</span>

<br>



<img style="width: 456px; height: 435px;" alt="putty config dialog #4" src="putty4.png"><br>



<span style="font-weight: bold;"><br>

Save the putty configuration. <br>



<br>


Then click the "open" button. &nbsp; If you get a security alert
regarding the server's host key not being cached in the registry,
&nbsp;respond with YES.<br>


<br>



<img style="width: 666px; height: 413px;" alt="putty login screen" src="putty5.png"><br>



<span style="font-weight: bold;"></span>Putty should connect to the server.<br>



<span style="font-style: italic;">If you get a password prompt rather
than a successful login, something is wrong in the putty setup.
&nbsp;It must be fixed before proceeding further.</span><br>



<br>



</span><span style="font-weight: bold;"></span>
<h2>Install the Subversion command line based client</h2>



<ol>



  <li>Download Win32 subversion binaries here:<br>



    <a href="http://subversion.tigris.org/servlets/ProjectDocumentList?folderID=91">http://subversion.tigris.org/servlets/ProjectDocumentList?folderID=91</a><br>


    <span style="font-family: monospace;"></span>Take the latest released version, &nbsp;<span style="font-family: monospace;">svn-1.4.0-setup.ex</span>e at &nbsp;the time this was written<br>

    <br>


  </li>



  <li>Install. &nbsp;Subversion installs with a normal Windows installer setup wizard.<br>



After installation, &nbsp;from a command line try <br>



    <span style="font-family: monospace;">&nbsp; &nbsp;svn --help</span><br>


to verify that the install worked. &nbsp;(a pre-existing command
windows may not see a new installation, if it doesn't work try opening
a new command window)<br>


    <br>



  </li>



  <li>Configure subversion for ssh.<br>



The svn configuration file is in the&nbsp;&nbsp;Applications Data directory, and will have a path of this form:<br>



    <span style="font-family: monospace;">C:\Documents and Settings\&lt;<span style="font-style: italic; font-family: monospace;">your Windows login name</span>&gt;\Application Data\Subversion\config</span><br>



    <span style="font-family: monospace;"></span><span style="font-family: monospace;"><br>
    </span>


Using any plain text editor, add the line<span style="font-family: monospace;"><br>



    </span><span style="font-family: monospace; font-weight: bold;">&nbsp; &nbsp;ssh = $SVN_SSH plink.exe<br>
    </span>into the [tunnels] section of the file, as shown below:<span style="font-family: monospace; font-weight: bold;"><br>
    <span style="font-weight: bold;"></span></span></li>
  <span style="font-family: mon;"><span style="font-weight: bold;"></span></span>
</ol>
<div style="margin-left: 40px;">
<div style="margin-left: 40px;"><span style="font-family: monospace;">### Section for configuring tunnel agents.</span><br style="font-family: monospace;">
<span style="font-family: monospace;">[tunnels]</span><br style="font-family: monospace;">
<span style="font-family: monospace;">### Configure svn protocol tunnel schemes here.&nbsp; By default, only</span><br style="font-family: monospace;">
<span style="font-family: monospace;">### the 'ssh' scheme is defined.&nbsp; You can define other schemes to</span><br style="font-family: monospace;">
<span style="font-family: monospace;">### be used with 'svn+scheme://hostname/path' URLs.&nbsp; A scheme</span><br style="font-family: monospace;">
<span style="font-family: monospace;">### definition is simply a command, optionally prefixed by an</span><br style="font-family: monospace;">
<span style="font-family: monospace;">### environment variable name which can override the command if it</span><br style="font-family: monospace;">
<span style="font-family: monospace;">### is defined.&nbsp; The command (or environment variable) may contain</span><br style="font-family: monospace;">
<span style="font-family: monospace;">### arguments, using standard shell quoting for arguments with</span><br style="font-family: monospace;">
<span style="font-family: monospace;">### spaces.&nbsp; The command will be invoked as:</span><br style="font-family: monospace;">
<span style="font-family: monospace;">###&nbsp;&nbsp; &lt;command&gt; &lt;hostname&gt; svnserve -t</span><br style="font-family: monospace;">
<span style="font-family: monospace;">### (If the URL includes a username, then the hostname will be</span><br style="font-family: monospace;">
<span style="font-family: monospace;">### passed to the tunnel agent as &lt;user&gt;@&lt;hostname&gt;.)&nbsp; If the</span><br style="font-family: monospace;">
<span style="font-family: monospace;">### built-in ssh scheme were not predefined, it could be defined</span><br style="font-family: monospace;">
<span style="font-family: monospace;">### as:</span><br style="font-family: monospace;">
<span style="font-family: monospace;"># ssh = $SVN_SSH ssh</span><br style="font-family: monospace;">
<span style="font-family: monospace; font-weight: bold;">ssh = $SVN_SSH plink.exe</span><br style="font-family: monospace;">
<span style="font-family: monospace;">### If you wanted to define a new 'rsh' scheme, to be used with</span><br>
</div>
</div>



<span style="font-family: monospace; font-weight: bold;"></span>Note: with this setup, when subversion asks for "source.icu-project.org",
the request will go to plink.exe, which will look for a saved putty
configuration of&nbsp; that name ("source.icu-project.org"), and access whatever server machine
that configuration indicates. &nbsp;There is no requirement that the
saved putty configuration name match the host name that will be
accessed, but it keeps things less confusing if they are the same.<br>



<br>



Another note: it's supposed to be possible to specify the full path to the
plink.exe in the configuration file, and avoid having to add the putty
directory to the system's PATH environment variable, but it didn't work
for me.<br>



<span style="font-family: monospace; font-weight: bold;"><span style="font-weight: bold;"></span></span>
<h2><br>


</h2>


<h2>Test Subversion Server Access</h2>



Make a test directory and try a checkout. &nbsp;<br>



<br>



<span style="font-family: monospace;">C:\&gt;mkdir&nbsp;</span><span style="font-family: monospace;">svntest<br>



</span><span style="font-family: monospace;">C:\&gt;cd svntest</span><br style="font-family: monospace;">



<span style="font-family: monospace;">C:\svntest&gt;svn co svn+ssh://source.icu-project.org/repos/icu/icu4j/trunk icu4j</span><br style="font-family: monospace;">



<span style="font-family: monospace;">A&nbsp;&nbsp;&nbsp; icu4j\eclipseTestArgs.txt</span><br style="font-family: monospace;">



<span style="font-family: monospace;">A&nbsp;&nbsp;&nbsp; icu4j\readme.html</span><br style="font-family: monospace;">



<span style="font-family: monospace;">A&nbsp;&nbsp;&nbsp; icu4j\license.html</span><br style="font-family: monospace;">



<span style="font-family: monospace;">A&nbsp;&nbsp;&nbsp; icu4j\src</span><br style="font-family: monospace;">



<span style="font-family: monospace;">A&nbsp;&nbsp;&nbsp; icu4j\src\com</span><br style="font-family: monospace;">



<span style="font-family: monospace;">A&nbsp;&nbsp;&nbsp; icu4j\src\com\ibm</span><br style="font-family: monospace;">



<span style="font-family: monospace;">A&nbsp;&nbsp;&nbsp; icu4j\src\com\ibm\icu</span><br style="font-family: monospace;">



<span style="font-family: monospace;">A&nbsp;&nbsp;&nbsp; icu4j\src\com\ibm\icu\impl</span><br style="font-family: monospace;">



<span style="font-family: monospace;">A&nbsp;&nbsp;&nbsp; icu4j\src\com\ibm\icu\impl\LRUMap.java</span><br style="font-family: monospace;">



<span style="font-family: monospace;"></span>[snipped the rest]<br>



<br>



From the&nbsp; command,<br>



<div style="margin-left: 40px;"><span style="font-family: monospace;">svn co svn+<span style="font-weight: bold;">ssh</span>://<span style="font-weight: bold;">source.icu-project.org</span>/repos/icu/icu4j/trunk icu4j</span><br>



</div>



<span style="font-weight: bold; font-style: italic;">ssh</span><span style="font-style: italic;"> </span>is vectored off to plink.exe by the line that was added to the config file.<br>



<span style="font-weight: bold; font-style: italic;">source.icu-project.org</span> must be the name of a saved session in Putty. &nbsp;<br>


<br>


<h2>GUI Client</h2>


A quick search shows that there are many free SVN GUI
clients out there. &nbsp;Most appear to be immature at best.
&nbsp;TortoiseSVN looks pretty good, although it's Windows only.<br>


<a href="http://www.tortoisecvs.org/"><br>


http://www.tortoisecvs.org/</a><br>

<br>



</body>
</html>
