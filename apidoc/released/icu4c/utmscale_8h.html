<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ICU 65.1: utmscale.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ICU 65.1
   &#160;<span id="projectnumber">65.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_8e7b8192f8ff7e2a9b28a95633402eef.html">icu</a></li><li class="navelem"><a class="el" href="dir_62bbd7d8d356aabb1ca2bb9704fa0335.html">icu4c</a></li><li class="navelem"><a class="el" href="dir_84abeeaa1c31cd817591a3a8c0864234.html">source</a></li><li class="navelem"><a class="el" href="dir_3e1ecd90385a80576b9fe3cd29979487.html">i18n</a></li><li class="navelem"><a class="el" href="dir_7211dc00d760fee3a180fcbb414c517d.html">unicode</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">utmscale.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>C API: Universal Time Scale.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="utypes_8h_source.html">unicode/utypes.h</a>&quot;</code><br />
</div>
<p><a href="utmscale_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:aa6ee412501f0f4f68e5357a507186c64"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="utmscale_8h.html#af2137d4a7bdee4c9d7ef1aa7ac79baf2">UDateTimeScale</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="utmscale_8h.html#aa6ee412501f0f4f68e5357a507186c64">UDateTimeScale</a></td></tr>
<tr class="memdesc:aa6ee412501f0f4f68e5357a507186c64"><td class="mdescLeft">&#160;</td><td class="mdescRight"><code>UDateTimeScale</code> values are used to specify the time scale used for conversion into or out if the universal time scale.  <a href="#aa6ee412501f0f4f68e5357a507186c64">More...</a><br /></td></tr>
<tr class="separator:aa6ee412501f0f4f68e5357a507186c64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf68f4242c0e5fe91e2c85c8c343ba73"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="utmscale_8h.html#adba2667f8086afb0a237ed9b3144670d">UTimeScaleValue</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="utmscale_8h.html#aaf68f4242c0e5fe91e2c85c8c343ba73">UTimeScaleValue</a></td></tr>
<tr class="memdesc:aaf68f4242c0e5fe91e2c85c8c343ba73"><td class="mdescLeft">&#160;</td><td class="mdescRight"><code>UTimeScaleValue</code> values are used to specify the time scale values to <code>utmscale_getTimeScaleValue</code>.  <a href="#aaf68f4242c0e5fe91e2c85c8c343ba73">More...</a><br /></td></tr>
<tr class="separator:aaf68f4242c0e5fe91e2c85c8c343ba73"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:af2137d4a7bdee4c9d7ef1aa7ac79baf2"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="utmscale_8h.html#af2137d4a7bdee4c9d7ef1aa7ac79baf2">UDateTimeScale</a> { <br />
&#160;&#160;<a class="el" href="utmscale_8h.html#af2137d4a7bdee4c9d7ef1aa7ac79baf2a93031d37dd16809a029d02a4c6ac212e">UDTS_JAVA_TIME</a> = 0, 
<a class="el" href="utmscale_8h.html#af2137d4a7bdee4c9d7ef1aa7ac79baf2ad0fff1454d55ce16fe1d8a4a2a7d51d8">UDTS_UNIX_TIME</a>, 
<a class="el" href="utmscale_8h.html#af2137d4a7bdee4c9d7ef1aa7ac79baf2a5f07c8f530c944d23408dfbc2d51816a">UDTS_ICU4C_TIME</a>, 
<a class="el" href="utmscale_8h.html#af2137d4a7bdee4c9d7ef1aa7ac79baf2a1d265e0bb29c72318b9254c2900d3634">UDTS_WINDOWS_FILE_TIME</a>, 
<br />
&#160;&#160;<a class="el" href="utmscale_8h.html#af2137d4a7bdee4c9d7ef1aa7ac79baf2af95aed94ad1fc1177260bfeb4b43ae5a">UDTS_DOTNET_DATE_TIME</a>, 
<a class="el" href="utmscale_8h.html#af2137d4a7bdee4c9d7ef1aa7ac79baf2a37910827df37bcdf0dc60557dde33a83">UDTS_MAC_OLD_TIME</a>, 
<a class="el" href="utmscale_8h.html#af2137d4a7bdee4c9d7ef1aa7ac79baf2ab739c4491f4d86c50fff8e36fe275544">UDTS_MAC_TIME</a>, 
<a class="el" href="utmscale_8h.html#af2137d4a7bdee4c9d7ef1aa7ac79baf2ab579d391e5c2499195f8654b05c9a884">UDTS_EXCEL_TIME</a>, 
<br />
&#160;&#160;<a class="el" href="utmscale_8h.html#af2137d4a7bdee4c9d7ef1aa7ac79baf2aabe7bd5a2d0169a44577139b77a2f0e0">UDTS_DB2_TIME</a>, 
<a class="el" href="utmscale_8h.html#af2137d4a7bdee4c9d7ef1aa7ac79baf2af0b38e02193e21d520d7efd81d31baa4">UDTS_UNIX_MICROSECONDS_TIME</a>, 
<a class="el" href="utmscale_8h.html#af2137d4a7bdee4c9d7ef1aa7ac79baf2a79a0b568c55949241360f72039d583f5">UDTS_MAX_SCALE</a>
<br />
 }<tr class="memdesc:af2137d4a7bdee4c9d7ef1aa7ac79baf2"><td class="mdescLeft">&#160;</td><td class="mdescRight"><code>UDateTimeScale</code> values are used to specify the time scale used for conversion into or out if the universal time scale.  <a href="utmscale_8h.html#af2137d4a7bdee4c9d7ef1aa7ac79baf2">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:af2137d4a7bdee4c9d7ef1aa7ac79baf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adba2667f8086afb0a237ed9b3144670d"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="utmscale_8h.html#adba2667f8086afb0a237ed9b3144670d">UTimeScaleValue</a> { <br />
&#160;&#160;<a class="el" href="utmscale_8h.html#adba2667f8086afb0a237ed9b3144670da3c8efff753b833b7742abb7d3ccc3bca">UTSV_UNITS_VALUE</a> = 0, 
<a class="el" href="utmscale_8h.html#adba2667f8086afb0a237ed9b3144670dae913ed41faead84de80cbabc32264c5f">UTSV_EPOCH_OFFSET_VALUE</a> =1, 
<a class="el" href="utmscale_8h.html#adba2667f8086afb0a237ed9b3144670da6bda623b0ab219d8700327af6c1dc943">UTSV_FROM_MIN_VALUE</a> =2, 
<a class="el" href="utmscale_8h.html#adba2667f8086afb0a237ed9b3144670daf8813031fb99d41d6e909c2b77baeccd">UTSV_FROM_MAX_VALUE</a> =3, 
<br />
&#160;&#160;<a class="el" href="utmscale_8h.html#adba2667f8086afb0a237ed9b3144670da35b1221a1b8eac335c48d17310c04eeb">UTSV_TO_MIN_VALUE</a> =4, 
<a class="el" href="utmscale_8h.html#adba2667f8086afb0a237ed9b3144670da495c1ea76d0de080cab8a702e7a58209">UTSV_TO_MAX_VALUE</a> =5, 
<a class="el" href="utmscale_8h.html#adba2667f8086afb0a237ed9b3144670dab6df86a91298b494457c9d0cf949481d">UTSV_EPOCH_OFFSET_PLUS_1_VALUE</a> =6, 
<a class="el" href="utmscale_8h.html#adba2667f8086afb0a237ed9b3144670da266bb95ac5bb1a1672dd232a8e4f60ea">UTSV_EPOCH_OFFSET_MINUS_1_VALUE</a> =7, 
<br />
&#160;&#160;<a class="el" href="utmscale_8h.html#adba2667f8086afb0a237ed9b3144670daa7fc19d805a7211a5353daef642aabf3">UTSV_UNITS_ROUND_VALUE</a> =8, 
<a class="el" href="utmscale_8h.html#adba2667f8086afb0a237ed9b3144670da9269c425e932fe30f58df113475e31c8">UTSV_MIN_ROUND_VALUE</a> =9, 
<a class="el" href="utmscale_8h.html#adba2667f8086afb0a237ed9b3144670da6b7b7969e9a01121bc8f28d11970ae3d">UTSV_MAX_ROUND_VALUE</a> =10, 
<a class="el" href="utmscale_8h.html#adba2667f8086afb0a237ed9b3144670daf78f4f53a9381e98d2f69d916e37e70e">UTSV_MAX_SCALE_VALUE</a> =11
<br />
 }<tr class="memdesc:adba2667f8086afb0a237ed9b3144670d"><td class="mdescLeft">&#160;</td><td class="mdescRight"><code>UTimeScaleValue</code> values are used to specify the time scale values to <code>utmscale_getTimeScaleValue</code>.  <a href="utmscale_8h.html#adba2667f8086afb0a237ed9b3144670d">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:adba2667f8086afb0a237ed9b3144670d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa62c156e7cf791ffa35a1d410a4c5243"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="utmscale_8h.html#aa62c156e7cf791ffa35a1d410a4c5243">utmscale_getTimeScaleValue</a> (<a class="el" href="utmscale_8h.html#af2137d4a7bdee4c9d7ef1aa7ac79baf2">UDateTimeScale</a> timeScale, <a class="el" href="utmscale_8h.html#adba2667f8086afb0a237ed9b3144670d">UTimeScaleValue</a> value, <a class="el" href="utypes_8h.html#a3343c1c8a8377277046774691c98d78c">UErrorCode</a> *status)</td></tr>
<tr class="memdesc:aa62c156e7cf791ffa35a1d410a4c5243"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a value associated with a particular time scale.  <a href="#aa62c156e7cf791ffa35a1d410a4c5243">More...</a><br /></td></tr>
<tr class="separator:aa62c156e7cf791ffa35a1d410a4c5243"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a479aacbfc7ae1e39b92cbc25d5686c6b"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="utmscale_8h.html#a479aacbfc7ae1e39b92cbc25d5686c6b">utmscale_fromInt64</a> (int64_t otherTime, <a class="el" href="utmscale_8h.html#af2137d4a7bdee4c9d7ef1aa7ac79baf2">UDateTimeScale</a> timeScale, <a class="el" href="utypes_8h.html#a3343c1c8a8377277046774691c98d78c">UErrorCode</a> *status)</td></tr>
<tr class="memdesc:a479aacbfc7ae1e39b92cbc25d5686c6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a <code>int64_t</code> datetime from the given time scale to the universal time scale.  <a href="#a479aacbfc7ae1e39b92cbc25d5686c6b">More...</a><br /></td></tr>
<tr class="separator:a479aacbfc7ae1e39b92cbc25d5686c6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06557c4eaba6d31e03fb7c0ef934630f"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="utmscale_8h.html#a06557c4eaba6d31e03fb7c0ef934630f">utmscale_toInt64</a> (int64_t universalTime, <a class="el" href="utmscale_8h.html#af2137d4a7bdee4c9d7ef1aa7ac79baf2">UDateTimeScale</a> timeScale, <a class="el" href="utypes_8h.html#a3343c1c8a8377277046774691c98d78c">UErrorCode</a> *status)</td></tr>
<tr class="memdesc:a06557c4eaba6d31e03fb7c0ef934630f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a datetime from the universal time scale to a <code>int64_t</code> in the given time scale.  <a href="#a06557c4eaba6d31e03fb7c0ef934630f">More...</a><br /></td></tr>
<tr class="separator:a06557c4eaba6d31e03fb7c0ef934630f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>C API: Universal Time Scale. </p>
<p>There are quite a few different conventions for binary datetime, depending on different platforms and protocols. Some of these have severe drawbacks. For example, people using Unix time (seconds since Jan 1, 1970) think that they are safe until near the year 2038. But cases can and do arise where arithmetic manipulations causes serious problems. Consider the computation of the average of two datetimes, for example: if one calculates them with <code>averageTime = (time1 + time2)/2</code>, there will be overflow even with dates around the present. Moreover, even if these problems don't occur, there is the issue of conversion back and forth between different systems.</p>
<p>Binary datetimes differ in a number of ways: the datatype, the unit, and the epoch (origin). We'll refer to these as time scales. For example:</p>
<a class="anchor" id=""></a>
<table border="1" cellspacing="0" cellpadding="4">
<caption>Table 1: Binary Time Scales</caption>
<tr>
<th align="left">Source </th><th align="left">Datatype </th><th align="left">Unit </th><th align="left"><p class="starttd">Epoch </p>
<p class="endtd"></p>
</th></tr>
<tr>
<td>UDTS_JAVA_TIME </td><td>int64_t </td><td>milliseconds </td><td>Jan 1, 1970  </td></tr>
<tr>
<td>UDTS_UNIX_TIME </td><td>int32_t or int64_t </td><td>seconds </td><td>Jan 1, 1970  </td></tr>
<tr>
<td><p class="starttd">UDTS_ICU4C_TIME</p>
<p class="endtd"></p>
</td><td>double </td><td>milliseconds </td><td>Jan 1, 1970  </td></tr>
<tr>
<td>UDTS_WINDOWS_FILE_TIME </td><td><p class="starttd">int64_t</p>
<p class="endtd"></p>
</td><td>ticks (100 nanoseconds) </td><td>Jan 1, 1601  </td></tr>
<tr>
<td>UDTS_DOTNET_DATE_TIME </td><td>int64_t </td><td><p class="starttd">ticks (100 nanoseconds)</p>
<p class="endtd"></p>
</td><td>Jan 1, 0001  </td></tr>
<tr>
<td>UDTS_MAC_OLD_TIME </td><td>int32_t or int64_t </td><td>seconds </td><td><p class="starttd">Jan 1, 1904</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>UDTS_MAC_TIME </td><td>double </td><td>seconds </td><td><p class="starttd">Jan 1, 2001 </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>UDTS_EXCEL_TIME </td><td>? </td><td>days </td><td>Dec 31, 1899  </td></tr>
<tr>
<td>UDTS_DB2_TIME </td><td>? </td><td>days </td><td><p class="starttd">Dec 31, 1899 </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>UDTS_UNIX_MICROSECONDS_TIME </td><td>int64_t </td><td>microseconds </td><td>Jan 1, 1970  </td></tr>
</table>
<p>All of the epochs start at 00:00 am (the earliest possible time on the day in question), and are assumed to be UTC.</p>
<p>The ranges for different datatypes are given in the following table (all values in years). The range of years includes the entire range expressible with positive and negative values of the datatype. The range of years for double is the range that would be allowed without losing precision to the corresponding unit.</p>
<table border="1" cellspacing="0" cellpadding="4">
<tr>
<th align="left">Units </th><th align="left">int64_t </th><th align="left">double </th><th align="left"><p class="starttd">int32_t </p>
<p class="endtd"></p>
</th></tr>
<tr>
<td>1 sec </td><td align="right">5.84542x10<sup>11</sup> </td><td align="right">285,420,920.94 </td><td align="right">136.10  </td></tr>
<tr>
<td>1 millisecond </td><td align="right">584,542,046.09 </td><td align="right">285,420.92 </td><td align="right">0.14  </td></tr>
<tr>
<td><p class="starttd">1 microsecond</p>
<p class="endtd"></p>
</td><td align="right">584,542.05 </td><td align="right">285.42 </td><td align="right">0.00  </td></tr>
<tr>
<td>100 nanoseconds (tick) </td><td align="right">58,454.20 </td><td align="right">28.54 </td><td align="right">0.00  </td></tr>
<tr>
<td>1 nanosecond </td><td align="right">584.5420461 </td><td align="right">0.2854 </td><td align="right">0.00  </td></tr>
</table>
<p>These functions implement a universal time scale which can be used as a 'pivot', and provide conversion functions to and from all other major time scales. This datetimes to be converted to the pivot time, safely manipulated, and converted back to any other datetime time scale.</p>
<p>So what to use for this pivot? Java time has plenty of range, but cannot represent .NET <code>System.DateTime</code> values without severe loss of precision. ICU4C time addresses this by using a <code>double</code> that is otherwise equivalent to the Java time. However, there are disadvantages with <code>doubles</code>. They provide for much more graceful degradation in arithmetic operations. But they only have 53 bits of accuracy, which means that they will lose precision when converting back and forth to ticks. What would really be nice would be a <code>long double</code> (80 bits &ndash; 64 bit mantissa), but that is not supported on most systems.</p>
<p>The Unix extended time uses a structure with two components: time in seconds and a fractional field (microseconds). However, this is clumsy, slow, and prone to error (you always have to keep track of overflow and underflow in the fractional field). <code>BigDecimal</code> would allow for arbitrary precision and arbitrary range, but we do not want to use this as the normal type, because it is slow and does not have a fixed size.</p>
<p>Because of these issues, we ended up concluding that the .NET framework's <code>System.DateTime</code> would be the best pivot. However, we use the full range allowed by the datatype, allowing for datetimes back to 29,000 BC and up to 29,000 AD. This time scale is very fine grained, does not lose precision, and covers a range that will meet almost all requirements. It will not handle the range that Java times do, but frankly, being able to handle dates before 29,000 BC or after 29,000 AD is of very limited interest. </p>

<p class="definition">Definition in file <a class="el" href="utmscale_8h_source.html">utmscale.h</a>.</p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="aa6ee412501f0f4f68e5357a507186c64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6ee412501f0f4f68e5357a507186c64">&#9670;&nbsp;</a></span>UDateTimeScale</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="utmscale_8h.html#af2137d4a7bdee4c9d7ef1aa7ac79baf2">UDateTimeScale</a>  <a class="el" href="utmscale_8h.html#af2137d4a7bdee4c9d7ef1aa7ac79baf2">UDateTimeScale</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>UDateTimeScale</code> values are used to specify the time scale used for conversion into or out if the universal time scale. </p>
<dl class="stable"><dt><b><a class="el" href="stable.html#_stable006175">Stable:</a></b></dt><dd>ICU 3.2 </dd></dl>

</div>
</div>
<a id="aaf68f4242c0e5fe91e2c85c8c343ba73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf68f4242c0e5fe91e2c85c8c343ba73">&#9670;&nbsp;</a></span>UTimeScaleValue</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="utmscale_8h.html#adba2667f8086afb0a237ed9b3144670d">UTimeScaleValue</a>  <a class="el" href="utmscale_8h.html#adba2667f8086afb0a237ed9b3144670d">UTimeScaleValue</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>UTimeScaleValue</code> values are used to specify the time scale values to <code>utmscale_getTimeScaleValue</code>. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="utmscale_8h.html#aa62c156e7cf791ffa35a1d410a4c5243" title="Get a value associated with a particular time scale. ">utmscale_getTimeScaleValue</a></dd></dl>
<dl class="stable"><dt><b><a class="el" href="stable.html#_stable006176">Stable:</a></b></dt><dd>ICU 3.2 </dd></dl>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="af2137d4a7bdee4c9d7ef1aa7ac79baf2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2137d4a7bdee4c9d7ef1aa7ac79baf2">&#9670;&nbsp;</a></span>UDateTimeScale</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="utmscale_8h.html#af2137d4a7bdee4c9d7ef1aa7ac79baf2">UDateTimeScale</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>UDateTimeScale</code> values are used to specify the time scale used for conversion into or out if the universal time scale. </p>
<dl class="stable"><dt><b><a class="el" href="stable.html#_stable006175">Stable:</a></b></dt><dd>ICU 3.2 </dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="af2137d4a7bdee4c9d7ef1aa7ac79baf2a93031d37dd16809a029d02a4c6ac212e"></a>UDTS_JAVA_TIME&#160;</td><td class="fielddoc"><p>Used in the JDK. </p>
<p>Data is a Java <code>long</code> (<code>int64_t</code>). Value is milliseconds since January 1, 1970.</p>
<dl class="stable"><dt><b><a class="el" href="stable.html#_stable006180">Stable:</a></b></dt><dd>ICU 3.2 </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="af2137d4a7bdee4c9d7ef1aa7ac79baf2ad0fff1454d55ce16fe1d8a4a2a7d51d8"></a>UDTS_UNIX_TIME&#160;</td><td class="fielddoc"><p>Used on Unix systems. </p>
<p>Data is <code>int32_t</code> or <code>int64_t</code>. Value is seconds since January 1, 1970.</p>
<dl class="stable"><dt><b><a class="el" href="stable.html#_stable006181">Stable:</a></b></dt><dd>ICU 3.2 </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="af2137d4a7bdee4c9d7ef1aa7ac79baf2a5f07c8f530c944d23408dfbc2d51816a"></a>UDTS_ICU4C_TIME&#160;</td><td class="fielddoc"><p>Used in IUC4C. </p>
<p>Data is a <code>double</code>. Value is milliseconds since January 1, 1970.</p>
<dl class="stable"><dt><b><a class="el" href="stable.html#_stable006182">Stable:</a></b></dt><dd>ICU 3.2 </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="af2137d4a7bdee4c9d7ef1aa7ac79baf2a1d265e0bb29c72318b9254c2900d3634"></a>UDTS_WINDOWS_FILE_TIME&#160;</td><td class="fielddoc"><p>Used in Windows for file times. </p>
<p>Data is an <code>int64_t</code>. Value is ticks (1 tick == 100 nanoseconds) since January 1, 1601.</p>
<dl class="stable"><dt><b><a class="el" href="stable.html#_stable006183">Stable:</a></b></dt><dd>ICU 3.2 </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="af2137d4a7bdee4c9d7ef1aa7ac79baf2af95aed94ad1fc1177260bfeb4b43ae5a"></a>UDTS_DOTNET_DATE_TIME&#160;</td><td class="fielddoc"><p>Used in the .NET framework's <code>System.DateTime</code> structure. </p>
<p>Data is an <code>int64_t</code>. Value is ticks (1 tick == 100 nanoseconds) since January 1, 0001.</p>
<dl class="stable"><dt><b><a class="el" href="stable.html#_stable006184">Stable:</a></b></dt><dd>ICU 3.2 </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="af2137d4a7bdee4c9d7ef1aa7ac79baf2a37910827df37bcdf0dc60557dde33a83"></a>UDTS_MAC_OLD_TIME&#160;</td><td class="fielddoc"><p>Used in older Macintosh systems. </p>
<p>Data is <code>int32_t</code> or <code>int64_t</code>. Value is seconds since January 1, 1904.</p>
<dl class="stable"><dt><b><a class="el" href="stable.html#_stable006185">Stable:</a></b></dt><dd>ICU 3.2 </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="af2137d4a7bdee4c9d7ef1aa7ac79baf2ab739c4491f4d86c50fff8e36fe275544"></a>UDTS_MAC_TIME&#160;</td><td class="fielddoc"><p>Used in newer Macintosh systems. </p>
<p>Data is a <code>double</code>. Value is seconds since January 1, 2001.</p>
<dl class="stable"><dt><b><a class="el" href="stable.html#_stable006186">Stable:</a></b></dt><dd>ICU 3.2 </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="af2137d4a7bdee4c9d7ef1aa7ac79baf2ab579d391e5c2499195f8654b05c9a884"></a>UDTS_EXCEL_TIME&#160;</td><td class="fielddoc"><p>Used in Excel. </p>
<p>Data is an <code>?unknown?</code>. Value is days since December 31, 1899.</p>
<dl class="stable"><dt><b><a class="el" href="stable.html#_stable006187">Stable:</a></b></dt><dd>ICU 3.2 </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="af2137d4a7bdee4c9d7ef1aa7ac79baf2aabe7bd5a2d0169a44577139b77a2f0e0"></a>UDTS_DB2_TIME&#160;</td><td class="fielddoc"><p>Used in DB2. </p>
<p>Data is an <code>?unknown?</code>. Value is days since December 31, 1899.</p>
<dl class="stable"><dt><b><a class="el" href="stable.html#_stable006188">Stable:</a></b></dt><dd>ICU 3.2 </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="af2137d4a7bdee4c9d7ef1aa7ac79baf2af0b38e02193e21d520d7efd81d31baa4"></a>UDTS_UNIX_MICROSECONDS_TIME&#160;</td><td class="fielddoc"><p>Data is a <code>long</code>. </p>
<p>Value is microseconds since January 1, 1970. Similar to Unix time (linear value from 1970) and struct timeval (microseconds resolution).</p>
<dl class="stable"><dt><b><a class="el" href="stable.html#_stable006189">Stable:</a></b></dt><dd>ICU 3.8 </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="af2137d4a7bdee4c9d7ef1aa7ac79baf2a79a0b568c55949241360f72039d583f5"></a>UDTS_MAX_SCALE&#160;</td><td class="fielddoc"><p>The first unused time scale value. </p>
<p>The limit of this enum </p><dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000437">Deprecated:</a></b></dt><dd>ICU 59 The numeric value may change over time, see ICU ticket #12420. </dd></dl>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="utmscale_8h_source.html#l00204">204</a> of file <a class="el" href="utmscale_8h_source.html">utmscale.h</a>.</p>

</div>
</div>
<a id="adba2667f8086afb0a237ed9b3144670d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adba2667f8086afb0a237ed9b3144670d">&#9670;&nbsp;</a></span>UTimeScaleValue</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="utmscale_8h.html#adba2667f8086afb0a237ed9b3144670d">UTimeScaleValue</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>UTimeScaleValue</code> values are used to specify the time scale values to <code>utmscale_getTimeScaleValue</code>. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="utmscale_8h.html#aa62c156e7cf791ffa35a1d410a4c5243" title="Get a value associated with a particular time scale. ">utmscale_getTimeScaleValue</a></dd></dl>
<dl class="stable"><dt><b><a class="el" href="stable.html#_stable006176">Stable:</a></b></dt><dd>ICU 3.2 </dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="adba2667f8086afb0a237ed9b3144670da3c8efff753b833b7742abb7d3ccc3bca"></a>UTSV_UNITS_VALUE&#160;</td><td class="fielddoc"><p>The constant used to select the units vale for a time scale. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="utmscale_8h.html#aa62c156e7cf791ffa35a1d410a4c5243" title="Get a value associated with a particular time scale. ">utmscale_getTimeScaleValue</a></dd></dl>
<dl class="stable"><dt><b><a class="el" href="stable.html#_stable006190">Stable:</a></b></dt><dd>ICU 3.2 </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="adba2667f8086afb0a237ed9b3144670dae913ed41faead84de80cbabc32264c5f"></a>UTSV_EPOCH_OFFSET_VALUE&#160;</td><td class="fielddoc"><p>The constant used to select the epoch offset value for a time scale. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="utmscale_8h.html#aa62c156e7cf791ffa35a1d410a4c5243" title="Get a value associated with a particular time scale. ">utmscale_getTimeScaleValue</a></dd></dl>
<dl class="stable"><dt><b><a class="el" href="stable.html#_stable006191">Stable:</a></b></dt><dd>ICU 3.2 </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="adba2667f8086afb0a237ed9b3144670da6bda623b0ab219d8700327af6c1dc943"></a>UTSV_FROM_MIN_VALUE&#160;</td><td class="fielddoc"><p>The constant used to select the minimum from value for a time scale. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="utmscale_8h.html#aa62c156e7cf791ffa35a1d410a4c5243" title="Get a value associated with a particular time scale. ">utmscale_getTimeScaleValue</a></dd></dl>
<dl class="stable"><dt><b><a class="el" href="stable.html#_stable006192">Stable:</a></b></dt><dd>ICU 3.2 </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="adba2667f8086afb0a237ed9b3144670daf8813031fb99d41d6e909c2b77baeccd"></a>UTSV_FROM_MAX_VALUE&#160;</td><td class="fielddoc"><p>The constant used to select the maximum from value for a time scale. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="utmscale_8h.html#aa62c156e7cf791ffa35a1d410a4c5243" title="Get a value associated with a particular time scale. ">utmscale_getTimeScaleValue</a></dd></dl>
<dl class="stable"><dt><b><a class="el" href="stable.html#_stable006193">Stable:</a></b></dt><dd>ICU 3.2 </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="adba2667f8086afb0a237ed9b3144670da35b1221a1b8eac335c48d17310c04eeb"></a>UTSV_TO_MIN_VALUE&#160;</td><td class="fielddoc"><p>The constant used to select the minimum to value for a time scale. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="utmscale_8h.html#aa62c156e7cf791ffa35a1d410a4c5243" title="Get a value associated with a particular time scale. ">utmscale_getTimeScaleValue</a></dd></dl>
<dl class="stable"><dt><b><a class="el" href="stable.html#_stable006194">Stable:</a></b></dt><dd>ICU 3.2 </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="adba2667f8086afb0a237ed9b3144670da495c1ea76d0de080cab8a702e7a58209"></a>UTSV_TO_MAX_VALUE&#160;</td><td class="fielddoc"><p>The constant used to select the maximum to value for a time scale. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="utmscale_8h.html#aa62c156e7cf791ffa35a1d410a4c5243" title="Get a value associated with a particular time scale. ">utmscale_getTimeScaleValue</a></dd></dl>
<dl class="stable"><dt><b><a class="el" href="stable.html#_stable006195">Stable:</a></b></dt><dd>ICU 3.2 </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="adba2667f8086afb0a237ed9b3144670dab6df86a91298b494457c9d0cf949481d"></a>UTSV_EPOCH_OFFSET_PLUS_1_VALUE&#160;</td><td class="fielddoc"><p>The constant used to select the epoch plus one value for a time scale. </p>
<p>NOTE: This is an internal value. DO NOT USE IT. May not actually be equal to the epoch offset value plus one.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="utmscale_8h.html#aa62c156e7cf791ffa35a1d410a4c5243" title="Get a value associated with a particular time scale. ">utmscale_getTimeScaleValue</a></dd></dl>
<dl class="internal"><dt><b><a class="el" href="internal.html#_internal000540">Internal:</a></b></dt><dd>Do not use. This API is for internal use only. ICU 3.2 </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="adba2667f8086afb0a237ed9b3144670da266bb95ac5bb1a1672dd232a8e4f60ea"></a>UTSV_EPOCH_OFFSET_MINUS_1_VALUE&#160;</td><td class="fielddoc"><p>The constant used to select the epoch plus one value for a time scale. </p>
<p>NOTE: This is an internal value. DO NOT USE IT. May not actually be equal to the epoch offset value plus one.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="utmscale_8h.html#aa62c156e7cf791ffa35a1d410a4c5243" title="Get a value associated with a particular time scale. ">utmscale_getTimeScaleValue</a></dd></dl>
<dl class="internal"><dt><b><a class="el" href="internal.html#_internal000541">Internal:</a></b></dt><dd>Do not use. This API is for internal use only. ICU 3.2 </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="adba2667f8086afb0a237ed9b3144670daa7fc19d805a7211a5353daef642aabf3"></a>UTSV_UNITS_ROUND_VALUE&#160;</td><td class="fielddoc"><p>The constant used to select the units round value for a time scale. </p>
<p>NOTE: This is an internal value. DO NOT USE IT.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="utmscale_8h.html#aa62c156e7cf791ffa35a1d410a4c5243" title="Get a value associated with a particular time scale. ">utmscale_getTimeScaleValue</a></dd></dl>
<dl class="internal"><dt><b><a class="el" href="internal.html#_internal000542">Internal:</a></b></dt><dd>Do not use. This API is for internal use only. ICU 3.2 </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="adba2667f8086afb0a237ed9b3144670da9269c425e932fe30f58df113475e31c8"></a>UTSV_MIN_ROUND_VALUE&#160;</td><td class="fielddoc"><p>The constant used to select the minimum safe rounding value for a time scale. </p>
<p>NOTE: This is an internal value. DO NOT USE IT.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="utmscale_8h.html#aa62c156e7cf791ffa35a1d410a4c5243" title="Get a value associated with a particular time scale. ">utmscale_getTimeScaleValue</a></dd></dl>
<dl class="internal"><dt><b><a class="el" href="internal.html#_internal000543">Internal:</a></b></dt><dd>Do not use. This API is for internal use only. ICU 3.2 </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="adba2667f8086afb0a237ed9b3144670da6b7b7969e9a01121bc8f28d11970ae3d"></a>UTSV_MAX_ROUND_VALUE&#160;</td><td class="fielddoc"><p>The constant used to select the maximum safe rounding value for a time scale. </p>
<p>NOTE: This is an internal value. DO NOT USE IT.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="utmscale_8h.html#aa62c156e7cf791ffa35a1d410a4c5243" title="Get a value associated with a particular time scale. ">utmscale_getTimeScaleValue</a></dd></dl>
<dl class="internal"><dt><b><a class="el" href="internal.html#_internal000544">Internal:</a></b></dt><dd>Do not use. This API is for internal use only. ICU 3.2 </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="adba2667f8086afb0a237ed9b3144670daf78f4f53a9381e98d2f69d916e37e70e"></a>UTSV_MAX_SCALE_VALUE&#160;</td><td class="fielddoc"><p>The number of time scale values, in other words limit of this enum. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="utmscale_8h.html#aa62c156e7cf791ffa35a1d410a4c5243" title="Get a value associated with a particular time scale. ">utmscale_getTimeScaleValue</a> </dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000438">Deprecated:</a></b></dt><dd>ICU 59 The numeric value may change over time, see ICU ticket #12420. </dd></dl>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="utmscale_8h_source.html#l00304">304</a> of file <a class="el" href="utmscale_8h_source.html">utmscale.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a479aacbfc7ae1e39b92cbc25d5686c6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a479aacbfc7ae1e39b92cbc25d5686c6b">&#9670;&nbsp;</a></span>utmscale_fromInt64()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t utmscale_fromInt64 </td>
          <td>(</td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>otherTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="utmscale_8h.html#af2137d4a7bdee4c9d7ef1aa7ac79baf2">UDateTimeScale</a>&#160;</td>
          <td class="paramname"><em>timeScale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="utypes_8h.html#a3343c1c8a8377277046774691c98d78c">UErrorCode</a> *&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert a <code>int64_t</code> datetime from the given time scale to the universal time scale. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">otherTime</td><td>The <code>int64_t</code> datetime </td></tr>
    <tr><td class="paramname">timeScale</td><td>The time scale to convert from </td></tr>
    <tr><td class="paramname">status</td><td>The status code. Set to <code>U_ILLEGAL_ARGUMENT_ERROR</code> if the conversion is out of range.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The datetime converted to the universal time scale</dd></dl>
<dl class="stable"><dt><b><a class="el" href="stable.html#_stable006178">Stable:</a></b></dt><dd>ICU 3.2 </dd></dl>

</div>
</div>
<a id="aa62c156e7cf791ffa35a1d410a4c5243"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa62c156e7cf791ffa35a1d410a4c5243">&#9670;&nbsp;</a></span>utmscale_getTimeScaleValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t utmscale_getTimeScaleValue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="utmscale_8h.html#af2137d4a7bdee4c9d7ef1aa7ac79baf2">UDateTimeScale</a>&#160;</td>
          <td class="paramname"><em>timeScale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="utmscale_8h.html#adba2667f8086afb0a237ed9b3144670d">UTimeScaleValue</a>&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="utypes_8h.html#a3343c1c8a8377277046774691c98d78c">UErrorCode</a> *&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a value associated with a particular time scale. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timeScale</td><td>The time scale </td></tr>
    <tr><td class="paramname">value</td><td>A constant representing the value to get </td></tr>
    <tr><td class="paramname">status</td><td>The status code. Set to <code>U_ILLEGAL_ARGUMENT_ERROR</code> if arguments are invalid. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- the value.</dd></dl>
<dl class="stable"><dt><b><a class="el" href="stable.html#_stable006177">Stable:</a></b></dt><dd>ICU 3.2 </dd></dl>

</div>
</div>
<a id="a06557c4eaba6d31e03fb7c0ef934630f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06557c4eaba6d31e03fb7c0ef934630f">&#9670;&nbsp;</a></span>utmscale_toInt64()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t utmscale_toInt64 </td>
          <td>(</td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>universalTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="utmscale_8h.html#af2137d4a7bdee4c9d7ef1aa7ac79baf2">UDateTimeScale</a>&#160;</td>
          <td class="paramname"><em>timeScale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="utypes_8h.html#a3343c1c8a8377277046774691c98d78c">UErrorCode</a> *&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert a datetime from the universal time scale to a <code>int64_t</code> in the given time scale. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">universalTime</td><td>The datetime in the universal time scale </td></tr>
    <tr><td class="paramname">timeScale</td><td>The time scale to convert to </td></tr>
    <tr><td class="paramname">status</td><td>The status code. Set to <code>U_ILLEGAL_ARGUMENT_ERROR</code> if the conversion is out of range.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The datetime converted to the given time scale</dd></dl>
<dl class="stable"><dt><b><a class="el" href="stable.html#_stable006179">Stable:</a></b></dt><dd>ICU 3.2 </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
